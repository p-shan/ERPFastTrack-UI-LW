"use strict";document.addEventListener("DOMContentLoaded",function(e){FormValidation.formValidation(document.getElementById("editDatabaseConnectionForm"),{fields:{Name:{validators:{notEmpty:{message:"Please enter connection name"}}},ConnectionUrl:{validators:{notEmpty:{message:"Please enter URL"},uri:{message:"Please enter a valid URL"}}}},plugins:{trigger:new FormValidation.plugins.Trigger,bootstrap5:new FormValidation.plugins.Bootstrap5({eleValidClass:"",rowSelector:".form-field"}),submitButton:new FormValidation.plugins.SubmitButton,autoFocus:new FormValidation.plugins.AutoFocus},init:e=>{e.on("plugins.message.placed",function(e){e.element.parentElement.classList.contains("input-group")&&e.element.parentElement.insertAdjacentElement("afterend",e.messageElement)})}}).on("core.form.valid",function(n){var a={};$.each(n.formValidation.form,function(e,t){null!=n.formValidation.fields[t.name]&&(a[t.name]=t.value)}),a.Id=parseInt(document.querySelector("#editDatabaseConnectionForm #editDatabaseConnectionId").value),a.OrgId=getCookie("selectedOrg"),$.ajax({url:"/api/Database/"+a.Id,type:"PUT",contentType:"application/json",data:JSON.stringify(a),success:function(e){Swal.fire({title:"Success!",text:"Database connection changes have been saved!",icon:"success",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1}).then(()=>{$(".datatables-database-connection").DataTable().ajax.reload()}),$("#editDatabaseConnectionModal").modal("hide")},error:function(e){Swal.fire({title:"Error!",text:"There was an error while saving Database connection!",icon:"error",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}})})});