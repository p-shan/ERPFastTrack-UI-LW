"use strict";var fileSourceDetail={load:function(){var e=parameterCtrl.staticDatatable.loadDataTable({title:"File Source Detail",ajaxData:null,type:"Add",identifier:"FileSourceDetail",columns:["fileSourceDetailName","fileName","delimiter","dateFieldFormat","timeFieldFormat","archiveFileName","hasHeader"]}),e=(fileSourceDetail.state.addDatatable=e,parameterCtrl.staticDatatable.loadDataTable({title:"File Source Detail",ajaxData:null,type:"Edit",identifier:"FileSourceDetail",columns:["fileSourceDetailName","fileName","delimiter","dateFieldFormat","timeFieldFormat","archiveFileName","hasHeader"]})),e=(fileSourceDetail.state.editDatatable=e,{title:"File Source Detail",identifier:"FileSourceDetail",type:"Add",datatable:{getInstance:function(){return"Add"==fileSourceConnection.state.actionType?fileSourceDetail.state.addDatatable:fileSourceDetail.state.editDatatable}},fields:fileSourceDetail.fvFields(),customFieldMapper:function(e,t){return t}}),e=(parameterCtrl.fvAddToTable(e),{title:"File Source Detail",identifier:"FileSourceDetail",type:"Edit",datatable:{getInstance:function(){return"Add"==fileSourceConnection.state.actionType?fileSourceDetail.state.addDatatable:fileSourceDetail.state.editDatatable}},fields:fileSourceDetail.fvFields(),customFieldMapper:function(e,t){return t},getRowIndex:function(){return fileSourceDetail.state.rowIndex}});parameterCtrl.fvEditToTable(e),$(["#dtAddFileSourceDetail","#dtEditFileSourceDetail"]).each(function(e,t){$(t+" tbody").on("click",".delete-record",function(){var e=$(this).closest("tr");fileSourceDetail.state.getDatatable().row(e).remove().draw(!1)}),$(t+" tbody").on("click",".edit-record",function(){var e=$(this).closest("tr"),e=fileSourceDetail.state.getDatatable().row(e).data(),t=(fileSourceDetail.state.rowIndex=fileSourceDetail.state.getDatatable().row(this).index(),$("#frmEditFileSourceDetail"));t.find('input[name="fileSourceDetailName"]').val(e.fileSourceDetailName),t.find('input[name="fileName"]').val(e.fileName),t.find('input[name="delimiter"]').val(e.delimiter),t.find('input[name="dateFieldFormat"]').val(e.dateFieldFormat),t.find('input[name="timeFieldFormat"]').val(e.timeFieldFormat),t.find('input[name="archiveFileName"]').val(e.archiveFileName),t.find('input[name="hasHeader"]').prop("checked",e.hasHeader)})})},fvFields:function(){return{fields:{fileSourceDetailName:{validators:{notEmpty:{message:"Please enter file source detail name"}}},fileName:{validators:{notEmpty:{message:"Please enter file name"}}},delimiter:{validators:{notEmpty:{message:"Please enter delimiter"}}},dateFieldFormat:{validators:{notEmpty:{message:"Please enter date field format"}}},timeFieldFormat:{validators:{notEmpty:{message:"Please enter time field format"}}},archiveFileName:{validators:{notEmpty:{message:"Please enter date archive file name"}}},hasHeader:{validators:{}}},plugins:parameterCtrl.fv.plugins(),init:parameterCtrl.fv.init()}},state:{rowIndex:null,editDatatable:null,addDatatable:null,getDatatable:function(){return"Add"==fileSourceConnection.state.actionType?fileSourceDetail.state.addDatatable:fileSourceDetail.state.editDatatable}}},fileSourceConnection={load:function(){var e={title:"File Source Connection",uri:function(){return"/api/data/fileSourceConnection"},identifier:"FileSourceConnection",type:"Add",datatable:{getInstance:function(){return fileSourceDetail.state.addDatatable},name:"FileSourceDetails"},fields:fileSourceConnection.fvFields(),customFieldMapper:function(e,t){return t}},e=(parameterCtrl.fvAdd(e),{title:"File Source Connection",uri:function(){return"/api/data/filesourceconnection/"+fileSourceConnection.state.editId},identifier:"FileSourceConnection",type:"Edit",datatable:{getInstance:function(){return fileSourceDetail.state.editDatatable},name:"FileSourceDetails"},fields:fileSourceConnection.fvFields(),customFieldMapper:function(e,t){return t}});parameterCtrl.fvEdit(e);parameterCtrl.datatable.loadDataTable({title:"File Source Connection",uri:function(){return"/api/data/filesourceconnection"},identifier:"FileSourceConnection",columns:["id","name","fileLocation","archiveLocation"]}),$("#dtFileSourceConnection tbody").on("click",".edit-record",function(){var e=$(this).data("id"),t=$("#frmEditFileSourceConnection");$.ajax({url:"/api/data/filesourceconnection/"+e,type:"GET",contentType:"application/json",success:function(e){fileSourceConnection.state.editId=e.id,t.find('input[name="Name"]').val(e.name),t.find('input[name="FileLocation"]').val(e.fileLocation),t.find('input[name="ArchiveLocation"]').val(e.archiveLocation),Array.isArray(e.fileSourceDetails)&&(fileSourceDetail.state.editDatatable.clear().draw(),fileSourceDetail.state.editDatatable.rows.add(e.fileSourceDetails).draw())}})}),$("#mdlAddFileSourceConnection").on("shown.bs.modal",function(){fileSourceConnection.state.actionType="Add"}),$("#mdlEditFileSourceConnection").on("shown.bs.modal",function(){fileSourceConnection.state.actionType="Edit"}),fileSourceDetail.load()},fvFields:function(){return{fields:{Name:{validators:{notEmpty:{message:"Please enter connection name"}}},FileLocation:{validators:{notEmpty:{message:"Please enter file location"}}},ArchiveLocation:{validators:{notEmpty:{message:"Please enter archive location"}}}},plugins:parameterCtrl.fv.plugins(),init:parameterCtrl.fv.init()}},state:{editId:null,getEditId:function(){return fileSourceConnection.state.editId}}};document.addEventListener("DOMContentLoaded",function(e){fileSourceConnection.load()});