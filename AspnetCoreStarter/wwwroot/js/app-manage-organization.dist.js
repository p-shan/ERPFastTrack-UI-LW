"use strict";var manageOrganization={load:function(){var a={title:"Manage Organization",uri:function(){return"/api/Organization/postusers"},identifier:"ManageOrganization",type:"Add",fields:manageOrganization.fvFields(),customFieldMapper:function(a,e){return e}};parameterCtrl.fvAdd(a);parameterCtrl.datatable.loadDataTable({title:"User",data:"users",uri:function(){return"/api/Organization/getusers"},identifier:"ManageOrganization",columns:["id","email","name","role"],customActionColumnRender:function(a,e,t,n){return'<span class="text-nowrap"><button class="btn btn-sm btn-icon me-2 view-record"><i class="ti ti-eye"></i></button><span>'},customColumnDefs:[{targets:4,orderable:!1,render:function(a,e,t,n){var r="";return'<span class="text-nowrap">'+(r+={ADMINISTRATOR:'<span class="badge bg-label-primary m-1">Administrator</span>',EDITOR:'<span class="badge bg-label-warning m-1">Editor</span>',EXECUTOR:'<span class="badge bg-label-success m-1">Executor</span>'}[t.role])+"</span>"}}]}),$("#dtQueryConfiguration tbody").on("click",".edit-record",function(){var a=$(this).data("id"),e=$("#frmEditQueryConfiguration");$.ajax({url:"/api/data/queryconfiguration/"+a,type:"GET",contentType:"application/json",success:function(a){manageOrganization.state.editId=a.id,e.find('input[name="QueryName"]').val(a.queryName),e.find('textarea[name="QueryDetails"]').val(a.queryDetails)}})})},fvFields:function(){return{fields:{Name:{validators:{notEmpty:{message:"Please enter query name"}}},EmailId:{validators:{notEmpty:{message:"Please enter email address"},emailAddress:{message:"The value is not a valid email address"}}},UserPassword:{validators:{notEmpty:{message:"Please enter password"}}},OrgRole:{validators:{callback:{message:"Please select the user role",callback:function(a){var e=orgRoleField.val();return null!=e&&""!=e&&null!=e}}}}},plugins:parameterCtrl.fv.plugins(),init:parameterCtrl.fv.init()}},state:{editId:null}};document.addEventListener("DOMContentLoaded",function(a){manageOrganization.load()});