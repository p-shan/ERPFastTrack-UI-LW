"use strict";var salesforceDbMapping={load:function(){var e={title:"Salesforce DB Mapping",uri:function(){return"/api/data/salesforcedbmapping"},identifier:"SalesforceDBMapping",type:"Add",fields:salesforceDbMapping.fvFields(),customFieldMapper:function(e,t){return t}},e=(parameterCtrl.fvAdd(e),{title:"Salesforce DB Mapping",uri:function(){return"/api/data/salesforcedbmapping/"+salesforceDbMapping.state.editId},identifier:"SalesforceDBMapping",type:"Edit",fields:salesforceDbMapping.fvFields(),customFieldMapper:function(e,t){return t}}),e=(parameterCtrl.fvEdit(e),parameterCtrl.datatable.loadDataTable({title:"Salesforce DB Mapping",uri:function(){return"/api/data/salesforcedbmapping"},identifier:"SalesforceDBMapping",columns:["id","name","sfConnName","dbConnName"]}),$("#dtSalesforceDBMapping tbody").on("click",".edit-record",function(){var e=$(this).data("id"),t=$("#frmEditSalesforceDBMapping");$.ajax({url:"/api/data/salesforcedbmapping/"+e,type:"GET",contentType:"application/json",success:function(e){salesforceDbMapping.state.editId=e.id,t.find('input[name="Name"]').val(e.name),t.find('select[name="SfConnId"]').val(e.sfConnId).trigger("change"),t.find('select[name="DbConnId"]').val(e.dbConnId).trigger("change")}})}),{title:function(e){return e.url},template:function(e){return $("<div><strong>"+e.text+'</strong></div><small class="text-sm">'+e.title+"</small>")}}),e=(parameterCtrl.selectAjax({uri:"/api/data/salesforceconnection",title:"Salesforce Connection",fields:[{selIdentifier:"#selAddSalesforceConnection",resKey:"id",resValue:"name",parentIdentifier:"#mdlAddSalesforceDBMapping .modal-content",title:e.title,template:e.template},{selIdentifier:"#selEditSalesforceConnection",resKey:"id",resValue:"name",parentIdentifier:"#mdlEditSalesforceDBMapping .modal-content",title:e.title,template:e.template}]}),{title:function(e){return e.connectionString},template:function(e){return $("<div><strong>"+e.text+'</strong></div><small class="text-sm">'+e.title+"</small>")}});parameterCtrl.selectAjax({uri:"/api/data/databaseconnection",title:"Database Connection",fields:[{selIdentifier:"#selAddDatabaseConnection",resKey:"id",resValue:"name",parentIdentifier:"#mdlAddSalesforceDBMapping .modal-content",title:e.title,template:e.template},{selIdentifier:"#selEditDatabaseConnection",resKey:"id",resValue:"name",parentIdentifier:"#mdlEditSalesforceDBMapping .modal-content",title:e.title,template:e.template}]})},fvFields:function(){return{fields:{Name:{validators:{notEmpty:{message:"Please enter connection name"}}},SfConnId:{validators:{callback:{message:"Please choose Salesforce Connection",callback:function(e){return 0<e.value.length}}}},DbConnId:{validators:{callback:{message:"Please choose Database Connection",callback:function(e){return 0<e.value.length}}}}},plugins:parameterCtrl.fv.plugins(),init:parameterCtrl.fv.init()}},state:{editId:null,getEditId:function(){return salesforceDbMapping.state.editId}}};document.addEventListener("DOMContentLoaded",function(e){salesforceDbMapping.load()});