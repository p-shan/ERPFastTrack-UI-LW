"use strict";var project={load:function(){var e={title:"Project",uri:function(){return"/api/operations/project"},identifier:"Project",type:"Add",fields:project.fvFields(),customFieldMapper:function(e,t){return t}},e=(parameterCtrl.fvAdd(e),{title:"Project",uri:function(){return"/api/operations/project/"+project.state.editId},identifier:"Project",type:"Edit",fields:project.fvFields(),customFieldMapper:function(e,t){return t}}),e=(parameterCtrl.fvEdit(e),parameterCtrl.datatable.loadDataTable({title:"Project",uri:function(){return"/api/operations/project"},identifier:"Project",columns:["id","name","sfDbMappingName"]}),$("#dtProject tbody").on("click",".edit-record",function(){var e=$(this).data("id"),t=$("#frmEditProject");$.ajax({url:"/api/operations/project/"+e,type:"GET",contentType:"application/json",success:function(e){project.state.editId=e.id,t.find('input[name="Name"]').val(e.name),t.find('select[name="SfDbMappingId"]').val(e.sfDbMappingId).trigger("change")}})}),{title:function(e){return e.sfConnUrl},template:function(e){return $("<div><strong>"+e.text+'</strong></div><small class="text-sm"><div class="mb-0 alert alert-primary d-flex align-items-center" role="alert"><span class="alert-icon text-primary me-2 p-2"><i class="fa-solid fa-database fa-fw"></i></span>'+$(e.element).data("dbConnString")+'</div> <div class="mt-1 mb-0 alert alert-info d-flex align-items-center" role="alert"><span class="alert-icon text-info me-2 p-2"><i class="fa-brands fa-salesforce fa-fw"></i></span>'+$(e.element).data("sfConnUrl")+"</div></small>")},attributes:[{key:"dbConnString",value:"dbConnString"},{key:"sfConnUrl",value:"sfConnUrl"}]});parameterCtrl.selectAjax({uri:"/api/data/salesforcedbmapping",title:"Salesforce Database Mapping",fields:[{selIdentifier:"#selAddSfDbMapping",resKey:"id",resValue:"name",parentIdentifier:"#mdlAddProject .modal-content",title:e.title,attributes:e.attributes,template:e.template},{selIdentifier:"#selEditSfDbMapping",resKey:"id",resValue:"name",parentIdentifier:"#mdlEditProject .modal-content",title:e.title,attributes:e.attributes,template:e.template}]})},fvFields:function(){return{fields:{Name:{validators:{notEmpty:{message:"Please enter project name"}}},SfDbMappingId:{validators:{callback:{message:"Please choose Salesforce Database Mapping",callback:function(e){return 0<e.value.length}}}}},plugins:parameterCtrl.fv.plugins(),init:parameterCtrl.fv.init()}},state:{editId:null,getEditId:function(){return project.state.editId}}};document.addEventListener("DOMContentLoaded",function(e){project.load()});