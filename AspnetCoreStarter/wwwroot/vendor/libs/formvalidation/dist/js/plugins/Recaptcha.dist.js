!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var i in r)("object"==typeof exports?exports:e)[i]=r[i]}}(self,(()=>{return e={47157:function(e,t,r){var i,o,n;function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}n=function(){"use strict";function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e){return t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},t(e)}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var o=FormValidation.Plugin,n=FormValidation.utils.fetch,c=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}(p,o);var c,s,l,d,u=(l=p,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=t(l);if(d){var o=t(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)}(this,e)});function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=u.call(this,e)).widgetIds=new Map,t.captchaStatus="NotValidated",t.opts=Object.assign({},p.DEFAULT_OPTIONS,e),t.fieldResetHandler=t.onResetField.bind(i(t)),t.preValidateFilter=t.preValidate.bind(i(t)),t.iconPlacedHandler=t.onIconPlaced.bind(i(t)),t}return c=p,s=[{key:"install",value:function(){var e=this;this.core.on("core.field.reset",this.fieldResetHandler).on("plugins.icon.placed",this.iconPlacedHandler).registerFilter("validate-pre",this.preValidateFilter);var t=void 0===window[p.LOADED_CALLBACK]?function(){}:window[p.LOADED_CALLBACK];window[p.LOADED_CALLBACK]=function(){t();var r={badge:e.opts.badge,callback:function(){""===e.opts.backendVerificationUrl&&(e.captchaStatus="Valid",e.core.updateFieldStatus(p.CAPTCHA_FIELD,"Valid"))},"error-callback":function(){e.captchaStatus="Invalid",e.core.updateFieldStatus(p.CAPTCHA_FIELD,"Invalid")},"expired-callback":function(){e.captchaStatus="NotValidated",e.core.updateFieldStatus(p.CAPTCHA_FIELD,"NotValidated")},sitekey:e.opts.siteKey,size:e.opts.size},i=window.grecaptcha.render(e.opts.element,r);e.widgetIds.set(e.opts.element,i),e.core.addField(p.CAPTCHA_FIELD,{validators:{promise:{message:e.opts.message,promise:function(t){var r,i,o,a=e.widgetIds.has(e.opts.element)?window.grecaptcha.getResponse(e.widgetIds.get(e.opts.element)):t.value;return""===a?(e.captchaStatus="Invalid",Promise.resolve({valid:!1})):""===e.opts.backendVerificationUrl?(e.captchaStatus="Valid",Promise.resolve({valid:!0})):"Valid"===e.captchaStatus?Promise.resolve({valid:!0}):n(e.opts.backendVerificationUrl,{method:"POST",params:(r={},i=p.CAPTCHA_FIELD,o=a,i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r)}).then((function(t){var r="true"==="".concat(t.success);return e.captchaStatus=r?"Valid":"Invalid",Promise.resolve({meta:t,valid:r})})).catch((function(t){return e.captchaStatus="NotValidated",Promise.reject({valid:!1})}))}}}})};var r=this.getScript();if(!document.body.querySelector('script[src="'.concat(r,'"]'))){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.defer=!0,i.src=r,document.body.appendChild(i)}}},{key:"uninstall",value:function(){this.timer&&clearTimeout(this.timer),this.core.off("core.field.reset",this.fieldResetHandler).off("plugins.icon.placed",this.iconPlacedHandler).deregisterFilter("validate-pre",this.preValidateFilter),this.widgetIds.clear();var e=this.getScript();[].slice.call(document.body.querySelectorAll('script[src="'.concat(e,'"]'))).forEach((function(e){return e.parentNode.removeChild(e)})),this.core.removeField(p.CAPTCHA_FIELD)}},{key:"getScript",value:function(){var e=this.opts.language?"&hl=".concat(this.opts.language):"";return"https://www.google.com/recaptcha/api.js?onload=".concat(p.LOADED_CALLBACK,"&render=explicit").concat(e)}},{key:"preValidate",value:function(){var e=this;if("invisible"===this.opts.size&&this.widgetIds.has(this.opts.element)){var t=this.widgetIds.get(this.opts.element);return"Valid"===this.captchaStatus?Promise.resolve():new Promise((function(r,i){window.grecaptcha.execute(t).then((function(){e.timer&&clearTimeout(e.timer),e.timer=window.setTimeout(r,1e3)}))}))}return Promise.resolve()}},{key:"onResetField",value:function(e){if(e.field===p.CAPTCHA_FIELD&&this.widgetIds.has(this.opts.element)){var t=this.widgetIds.get(this.opts.element);window.grecaptcha.reset(t)}}},{key:"onIconPlaced",value:function(e){if(e.field===p.CAPTCHA_FIELD)if("invisible"===this.opts.size)e.iconElement.style.display="none";else{var t=document.getElementById(this.opts.element);t&&t.parentNode.insertBefore(e.iconElement,t.nextSibling)}}}],s&&e(c.prototype,s),Object.defineProperty(c,"prototype",{writable:!1}),p}(o);return c.CAPTCHA_FIELD="g-recaptcha-response",c.DEFAULT_OPTIONS={backendVerificationUrl:"",badge:"bottomright",size:"normal",theme:"light"},c.LOADED_CALLBACK="___reCaptchaLoaded___",c},"object"===a(t)?e.exports=n():void 0===(o="function"==typeof(i=n)?i.call(t,r,t,e):i)||(e.exports=o)}},t={},function r(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,r),n.exports}(47157);var e,t}));